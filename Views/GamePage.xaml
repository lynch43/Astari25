<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Astari25.ViewModels"
             x:Class="Astari25.Views.GamePage"
             
             BackgroundColor="Black">

    <ContentPage.BindingContext>
        <vm:GamePageViewModel/>
    </ContentPage.BindingContext>

    <VerticalStackLayout Padding="10" Spacing="10">

        <!-- Title -->
        <Label Text="ASTARI"
               FontSize="36"
               HorizontalOptions="Center"
               TextColor="White"/>

        <!-- Lives and Score -->
        <HorizontalStackLayout HorizontalOptions="Center" Spacing="30">
            <Label Text="Lives:"
                   FontSize="20"
                   TextColor="White"/>
            <Label Text="{Binding Player.Lives}"
                   FontSize="20"
                   TextColor="White"/>
            <Label Text="Score:"
                   FontSize="20"
                   TextColor="White"/>
            <Label Text="{Binding Player.Score}"
                   FontSize="20"
                   TextColor="White"/>
        </HorizontalStackLayout>

        <!-- Game Canvas -->
        <Frame BorderColor="White" Padding="0" HasShadow="False">
            <GraphicsView x:Name="GameCanvas"
                          Drawable="{Binding GameDrawable}"
                          HeightRequest="600"
                          WidthRequest="600"
                          BackgroundColor="Black"/>
        </Frame>

        <!-- Slider Controls (Android Only) -->
        <VerticalStackLayout>
            <Label Text="Move Player"
                   HorizontalOptions="Center"
                   TextColor="White"/>
            <Slider x:Name="MoveSlider"
                    Minimum="-1"
                    Maximum="1"
                    ValueChanged="OnSliderValueChanged"
                    ThumbColor="White"
                    MaximumTrackColor="Gray"
                    MinimumTrackColor="Gray"/>
        </VerticalStackLayout>

        <!-- Shoot Button -->
        <Button Text="Shoot"
                FontSize="20"
                HeightRequest="50"
                HorizontalOptions="Center"
                Clicked="OnShootClicked"/>

    </VerticalStackLayout>
</ContentPage>
