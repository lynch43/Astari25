<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:Astari25.ViewModels"
             x:Class="Astari25.Views.GamePage"
             Title="*Astari*"
             BackgroundColor="Black">

    <ContentPage.BindingContext>
        <vm:GamePageViewModel/>
    </ContentPage.BindingContext>
    <VerticalStackLayout>

        <HorizontalStackLayout Padding="10.5" Spacing="20">
            <Label Text="{Binding Player.Lives, StringFormat='Lives: {0}'}"
                   FontSize="20"
                   TextColor="White"/>
            <Label Text="{Binding Player.Score, StringFormat='Score: {0}'}"
                   FontSize="20"
                   TextColor="White"/>

        </HorizontalStackLayout>
        
            
        <GraphicsView x:Name="GameCanvas"
                  Drawable="{Binding GameDrawable}"
                  HeightRequest="600"
                  WidthRequest="600"
                  BackgroundColor="Black"/>

        
        <HorizontalStackLayout VerticalOptions="End"
                         HorizontalOptions="Center"
                         Margin="0,20,0,20"
                         Spacing="18">

            <Grid RowDefinitions="Auto,Auto,Auto"
              ColumnDefinitions="Auto,Auto,Auto"
              VerticalOptions="End"
              HorizontalOptions="Center"
              RowSpacing="6"
              ColumnSpacing="6">

                <Button Text="↑"
                    Grid.Row="0" Grid.Column="1"
                    FontSize="26"
                    WidthRequest="55"
                    HeightRequest="55"
                    Clicked="OnUpClicked"/>
                <Button Text="←"
                    Grid.Row="1" Grid.Column="0"
                    FontSize="26"
                    WidthRequest="55"
                    HeightRequest="55"
                    Clicked="OnLeftClicked"/>
                <Button Text="→"
                    Grid.Row="1" Grid.Column="2"
                    FontSize="26"
                    WidthRequest="55"
                    HeightRequest="55"
                    Clicked="OnRightClicked"/>
                <Button Text="↓"
                    Grid.Row="2" Grid.Column="1"
                    FontSize="26"
                    WidthRequest="55"
                    HeightRequest="55"
                    Clicked="OnDownClicked"/>
            </Grid>

            
            <Button Text="Shoot"
                FontSize="20"
                WidthRequest="110"
                HeightRequest="70"
                HorizontalOptions="Center"
                Clicked="OnShootClicked"/>
        </HorizontalStackLayout>
    </VerticalStackLayout>
</ContentPage>